# contshop

Небольшой e-commerce сайт на Django для продажи и аренды морских контейнеров.

Проект задуман как понятная и расширяемая база: каталог и карточки товаров, корзина в модальном окне, оформление заявки (без онлайн-оплаты), админка для управления товарами/фото/заявками.

---

## Стек

- **Backend:** Django 5.x  
- **DB:** PostgreSQL (основная БД; проект переведён на Postgres)  
  - SQLite можно использовать при необходимости для простого локального запуска
- **Frontend:** Django Templates + TailwindCSS (CDN) + HTMX + Alpine.js
---

## Что реализовано

### 1) Главная страница (лендинг)
- Hero-блок: заголовок, описание, CTA:
  - «Перейти в каталог»
  - «Оставить заявку» (ведёт на страницу заявки)
- Блоки «Что предлагаем», «Почему мы»
- Общая шапка и подвал на всех страницах

### 2) Каталог товаров
- Сетка карточек товаров
- Фильтрация по “чипам” (пример):
  - 20' Standard / 20' High-Cube / 40' Standard / 40' High-Cube
  - Рефрижераторные
  - Под склад / бытовку
- Переход в карточку товара

### 3) Карточка товара
- Основная фотография и галерея (если есть)
- Lightbox: открытие фото на весь экран + пролистывание
- Кнопка «В корзину»

### 4) Фото товаров (несколько изображений)
- Модель `ProductImage` с `ImageField(upload_to="products/")`
- Связь `Product -> images` через `related_name="images"`
- Управление фото из Django Admin

### 5) Корзина (модальное окно)
- Корзина открывается из шапки (Alpine modal)
- Динамическое обновление через HTMX
- Изменение количества (+/−), удаление позиции
- Бейдж количества в шапке
- Кнопка «Оформить заявку» ведёт на страницу заявки

### 6) Заявки (orders)
- Модели:
  - `Order` (имя, телефон/email, комментарий, итог, статус/заготовки под отправку в Telegram)
  - `OrderItem` (позиции: товар, snapshot-данные, qty, line_total)
- Автоматическое создание `Order + OrderItem` из текущей корзины при отправке формы
- Очистка корзины после успешной отправки
- Страница «Спасибо» после оформления

---

## Структура проекта

- `apps/core` — главная страница  
- `apps/catalog` — категории, товары, карточка товара, фильтры  
- `apps/cart` — корзина (сессии) + HTMX partials + модалка  
- `apps/orders` — заявки и позиции заявок  
- `apps/notifications` — заготовка под уведомления (например, Telegram) (позже)  
- `templates/base.html` — общий layout (шапка/подвал/модалка корзины)

---

## Установка и запуск (локально)

### 1) Клонировать проект и создать виртуальное окружение
```bash
git clone <repo_url>
cd contshop

python -m venv venv
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate
